<div class="center-col">
  <router-outlet></router-outlet>
  <!--<app-speed-dial-fab (action)="openDialogNewTransaction($event)"></app-speed-dial-fab>-->
  <app-transactions-header (periodLoaded)="handlePeriodLoaded($event)" (openIncomeDialog)="openDialogNewTransaction($event)" (openOutcomeDialog)="openDialogNewTransaction($event)"></app-transactions-header>

  <div class="col" role="main">
    <div class="container-timeline">
      <mat-spinner *ngIf="transactionsStore.loading" [diameter]="16" ></mat-spinner>

      <div *ngIf="(transactionsStore.transactions | async)?.size === 0 && !transactionsStore.loading" align="center">
        <p>No transactions yet in that month</p>
      </div>
      <ul>
        <li  *ngFor="let t of transactionsStore.transactions | async">
          <div class="row" (click)="showDetails(t)">
            <div style="float: left" class="full-width">
              <div class="title">{{t.name}}</div>
              <div class="info">{{t.description}}</div>
              <div class="type"><span *ngIf="t.category" style="font-weight: bold"
                                      [ngStyle]="{'color': t.category?.color}">#</span>{{t.category?.name}}
              </div>
            </div>
            <div class="col-amount">
              <div class="amount">$ {{t.amount | onlyInteger }},<span >{{t.amount | onlyDecimalPart}}</span></div>
            </div>
          </div>
          <span (click)="toggleRealized(t)" [appTransactionCircleColor]="t" class="number circle"><span>{{t.date | date: 'dd'}}</span></span>
        </li>
      </ul>
    </div>

    <div >
      <p>Total: {{(periodSummaryStore.periodSummary | async).total}}</p>
    </div>
  </div>
</div>
